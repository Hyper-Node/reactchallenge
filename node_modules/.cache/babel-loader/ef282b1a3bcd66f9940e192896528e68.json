{"ast":null,"code":"import i18n from \"i18next\";\nimport { cloneDeep } from \"lodash\";\nimport { initReactI18next } from \"react-i18next\";\nimport de from \"./locales/de.json\";\nimport en from \"./locales/en.json\";\nexport const FALLBACK_LANGUAGE = \"en\";\nconst getBrowserLanguage = () => {\n  // @ts-ignore\n  const userLang = navigator.language || navigator.userLanguage;\n  return userLang ? userLang.split(\"-\")[0] : FALLBACK_LANGUAGE;\n};\nconst browserLanguage = getBrowserLanguage();\nexport const defaultTranslationModules = [{\n  locale: \"de\",\n  texts: de\n}, {\n  locale: \"en\",\n  texts: en\n}];\nexport const defaultLanguages = defaultTranslationModules.map(m => m.locale);\nconst resources = cloneDeep(Object.fromEntries(defaultTranslationModules.map(m => [m.locale, {\n  app: m.texts\n}])));\ni18n\n// pass the i18n instance to react-i18next.\n.use(initReactI18next)\n\n// init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  resources,\n  ns: [\"common\", \"app\"],\n  defaultNS: \"app\",\n  lng: FALLBACK_LANGUAGE || browserLanguage,\n  fallbackLng: FALLBACK_LANGUAGE,\n  interpolation: {\n    escapeValue: false // not needed for react as it escapes by default\n  }\n});\nexport default i18n;","map":{"version":3,"names":["i18n","cloneDeep","initReactI18next","de","en","FALLBACK_LANGUAGE","getBrowserLanguage","userLang","navigator","language","userLanguage","split","browserLanguage","defaultTranslationModules","locale","texts","defaultLanguages","map","m","resources","Object","fromEntries","app","use","init","ns","defaultNS","lng","fallbackLng","interpolation","escapeValue"],"sources":["/home/johannes/osapienscode/src/i18n/i18n.tsx"],"sourcesContent":["import i18n from \"i18next\";\nimport { cloneDeep } from \"lodash\";\nimport { initReactI18next } from \"react-i18next\";\nimport de from \"./locales/de.json\";\nimport en from \"./locales/en.json\";\n\nexport const FALLBACK_LANGUAGE = \"en\";\n\nexport interface Language {\n  locale: string;\n  name: string;\n  icon: JSX.Element;\n}\n\nconst getBrowserLanguage = () => {\n  // @ts-ignore\n  const userLang = navigator.language || navigator.userLanguage;\n\n  return userLang ? userLang.split(\"-\")[0] : FALLBACK_LANGUAGE;\n};\n\nconst browserLanguage = getBrowserLanguage();\n\nexport const defaultTranslationModules = [\n  { locale: \"de\", texts: de },\n  { locale: \"en\", texts: en }\n];\nexport const defaultLanguages = defaultTranslationModules.map((m) => m.locale);\n\nconst resources = cloneDeep(\n  Object.fromEntries(\n    defaultTranslationModules.map((m) => [m.locale, { app: m.texts }])\n  )\n);\n\ni18n\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    resources,\n    ns: [\"common\", \"app\"],\n    defaultNS: \"app\",\n    lng: FALLBACK_LANGUAGE || browserLanguage,\n    fallbackLng: FALLBACK_LANGUAGE,\n    interpolation: {\n      escapeValue: false // not needed for react as it escapes by default\n    }\n  });\n\nexport default i18n;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,SAAS;AAC1B,SAASC,SAAS,QAAQ,QAAQ;AAClC,SAASC,gBAAgB,QAAQ,eAAe;AAChD,OAAOC,EAAE,MAAM,mBAAmB;AAClC,OAAOC,EAAE,MAAM,mBAAmB;AAElC,OAAO,MAAMC,iBAAiB,GAAG,IAAI;AAQrC,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAC/B;EACA,MAAMC,QAAQ,GAAGC,SAAS,CAACC,QAAQ,IAAID,SAAS,CAACE,YAAY;EAE7D,OAAOH,QAAQ,GAAGA,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAGN,iBAAiB;AAC9D,CAAC;AAED,MAAMO,eAAe,GAAGN,kBAAkB,CAAC,CAAC;AAE5C,OAAO,MAAMO,yBAAyB,GAAG,CACvC;EAAEC,MAAM,EAAE,IAAI;EAAEC,KAAK,EAAEZ;AAAG,CAAC,EAC3B;EAAEW,MAAM,EAAE,IAAI;EAAEC,KAAK,EAAEX;AAAG,CAAC,CAC5B;AACD,OAAO,MAAMY,gBAAgB,GAAGH,yBAAyB,CAACI,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACJ,MAAM,CAAC;AAE9E,MAAMK,SAAS,GAAGlB,SAAS,CACzBmB,MAAM,CAACC,WAAW,CAChBR,yBAAyB,CAACI,GAAG,CAAEC,CAAC,IAAK,CAACA,CAAC,CAACJ,MAAM,EAAE;EAAEQ,GAAG,EAAEJ,CAAC,CAACH;AAAM,CAAC,CAAC,CACnE,CACF,CAAC;AAEDf;AACE;AAAA,CACCuB,GAAG,CAACrB,gBAAgB;;AAErB;AACA;AAAA,CACCsB,IAAI,CAAC;EACJL,SAAS;EACTM,EAAE,EAAE,CAAC,QAAQ,EAAE,KAAK,CAAC;EACrBC,SAAS,EAAE,KAAK;EAChBC,GAAG,EAAEtB,iBAAiB,IAAIO,eAAe;EACzCgB,WAAW,EAAEvB,iBAAiB;EAC9BwB,aAAa,EAAE;IACbC,WAAW,EAAE,KAAK,CAAC;EACrB;AACF,CAAC,CAAC;AAEJ,eAAe9B,IAAI"},"metadata":{},"sourceType":"module"}