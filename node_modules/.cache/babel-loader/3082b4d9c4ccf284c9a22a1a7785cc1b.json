{"ast":null,"code":"var _jsxFileName = \"/home/johannes/osapienscode/src/hooks/useMatchedRoute.tsx\",\n  _s = $RefreshSig$();\nimport { Box, Fade, Grow, Slide } from \"@mui/material\";\nimport React from \"react\";\nimport { matchPath, Route, Switch, useLocation } from \"react-router-dom\";\nimport { validateParams } from \"../utils/router\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useMatchedRoute = (routes, fallbackComponent, options) => {\n  _s();\n  const {\n    notFoundComponent,\n    matchOnSubPath,\n    transition = \"fade\"\n  } = options || {};\n  const location = useLocation();\n  // `exact`, `sensitive` and `strict` options are set to true\n  // to ensure type safety.\n  const results = routes.map(route => ({\n    route,\n    match: matchPath(location.pathname, {\n      path: route.path,\n      sensitive: !matchOnSubPath\n    })\n  })).filter(_ref => {\n    let {\n      match\n    } = _ref;\n    return !!match && (matchOnSubPath ? true : match.isExact);\n  });\n  const [firstResult] = results;\n  const {\n    match,\n    route\n  } = firstResult || {};\n  const Fallback = fallbackComponent;\n  const NotFound = notFoundComponent || (() => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"not found\"\n  }, void 0, false));\n  const Transition = React.useMemo(() => {\n    if (transition === \"fade\") {\n      const FadeTransition = _ref2 => {\n        let {\n          children,\n          match\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Fade, {\n          in: match ? true : false,\n          timeout: 300,\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            height: \"100%\",\n            children: children\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this);\n      };\n      return FadeTransition;\n    }\n    if (transition === \"grow\") {\n      const GrowTransition = _ref3 => {\n        let {\n          children,\n          match\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(Grow, {\n          in: match ? true : false,\n          timeout: 300,\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            height: \"100%\",\n            children: children\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this);\n      };\n      return GrowTransition;\n    }\n    if (transition.startsWith(\"slide\")) {\n      const [, direction] = transition.split(\"-\");\n      const SlideTransition = _ref4 => {\n        let {\n          children,\n          match\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(Slide, {\n          in: match ? true : false,\n          direction: direction,\n          timeout: 300,\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            height: \"100%\",\n            children: children\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this);\n      };\n      return SlideTransition;\n    }\n    return _ref5 => {\n      let {\n        children\n      } = _ref5;\n      return children;\n    };\n  }, [transition]);\n  return {\n    route: route,\n    params: match && validateParams(route.path, match.params) ? match.params : {},\n    MatchedElement: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [matchOnSubPath && routes.map((_ref6, i) => {\n        let {\n          path,\n          Component: RouteComponent\n        } = _ref6;\n        return /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\".concat(path.split(\"/\").slice(1, 2), \"/*\"),\n          children: _ref7 => {\n            let {\n              match\n            } = _ref7;\n            return /*#__PURE__*/_jsxDEV(Transition, {\n              match: match,\n              children: /*#__PURE__*/_jsxDEV(RouteComponent, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this);\n          }\n        }, path + \"matchOnSubPath\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this);\n      }), routes.map((_ref8, i) => {\n        let {\n          path,\n          Component: RouteComponent\n        } = _ref8;\n        return /*#__PURE__*/_jsxDEV(Route, {\n          sensitive: true,\n          strict: true,\n          exact: true,\n          path: path,\n          children: _ref9 => {\n            let {\n              match\n            } = _ref9;\n            return /*#__PURE__*/_jsxDEV(Transition, {\n              match: match,\n              children: /*#__PURE__*/_jsxDEV(RouteComponent, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this);\n          }\n        }, path + \"root\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this);\n      }), Fallback && /*#__PURE__*/_jsxDEV(Transition, {\n        match: true,\n        children: /*#__PURE__*/_jsxDEV(Fallback, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), !Fallback && /*#__PURE__*/_jsxDEV(Transition, {\n        match: true,\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  };\n};\n_s(useMatchedRoute, \"jUEcPhZ593fLVWSml5TuAybAFZ8=\", false, function () {\n  return [useLocation];\n});\nexport default useMatchedRoute;","map":{"version":3,"names":["Box","Fade","Grow","Slide","React","matchPath","Route","Switch","useLocation","validateParams","Fragment","_Fragment","jsxDEV","_jsxDEV","useMatchedRoute","routes","fallbackComponent","options","_s","notFoundComponent","matchOnSubPath","transition","location","results","map","route","match","pathname","path","sensitive","filter","_ref","isExact","firstResult","Fallback","NotFound","children","Transition","useMemo","FadeTransition","_ref2","in","timeout","unmountOnExit","height","fileName","_jsxFileName","lineNumber","columnNumber","GrowTransition","_ref3","startsWith","direction","split","SlideTransition","_ref4","_ref5","params","MatchedElement","_ref6","i","Component","RouteComponent","concat","slice","_ref7","_ref8","strict","exact","_ref9","component"],"sources":["/home/johannes/osapienscode/src/hooks/useMatchedRoute.tsx"],"sourcesContent":["import { Box, Fade, Grow, Slide } from \"@mui/material\";\nimport React from \"react\";\nimport { matchPath, Route, Switch, useLocation } from \"react-router-dom\";\nimport { PathParams, TRoute } from \"../types/global\";\nimport { validateParams } from \"../utils/router\";\n\ninterface UseMatchedRouteOptions {\n  notFoundComponent?: React.FC;\n  matchOnSubPath?: boolean;\n  transition?:\n    | \"none\"\n    | \"fade\"\n    | \"grow\"\n    | \"slide-up\"\n    | \"slide-down\"\n    | \"slide-left\"\n    | \"slide-right\";\n}\n\nconst useMatchedRoute = (\n  routes: ReadonlyArray<TRoute>,\n  fallbackComponent?: React.FC,\n  options?: UseMatchedRouteOptions\n): {\n  route: TRoute;\n  params: PathParams | null;\n  MatchedElement: JSX.Element;\n} => {\n  const { notFoundComponent, matchOnSubPath, transition = \"fade\" } =\n    options || {};\n  const location = useLocation();\n  // `exact`, `sensitive` and `strict` options are set to true\n  // to ensure type safety.\n  const results = routes\n    .map((route: TRoute): {\n      route: TRoute;\n      match: any | null;\n    } => ({\n      route,\n      match: matchPath(location.pathname, {\n        path: route.path,\n        sensitive: !matchOnSubPath\n      })\n    }))\n    .filter(({ match }) => !!match && (matchOnSubPath ? true : match.isExact));\n  const [firstResult] = results;\n  const { match, route } = firstResult || {};\n  const Fallback = fallbackComponent;\n  const NotFound = notFoundComponent || (() => <>not found</>);\n\n  const Transition: React.FC<{ match: any }> = React.useMemo(() => {\n    if (transition === \"fade\") {\n      const FadeTransition: React.FC<{ match: any }> = ({\n        children,\n        match\n      }) => (\n        <Fade in={match ? true : false} timeout={300} unmountOnExit>\n          <Box height={\"100%\"}>{children}</Box>\n        </Fade>\n      );\n\n      return FadeTransition;\n    }\n\n    if (transition === \"grow\") {\n      const GrowTransition: React.FC<{ match: any }> = ({\n        children,\n        match\n      }) => (\n        <Grow in={match ? true : false} timeout={300} unmountOnExit>\n          <Box height={\"100%\"}>{children}</Box>\n        </Grow>\n      );\n\n      return GrowTransition;\n    }\n\n    if (transition.startsWith(\"slide\")) {\n      const [, direction] = transition.split(\"-\");\n      const SlideTransition: React.FC<{ match: any }> = ({\n        children,\n        match\n      }) => (\n        <Slide\n          in={match ? true : false}\n          direction={direction as \"left\" | \"right\" | \"up\" | \"down\"}\n          timeout={300}\n          unmountOnExit\n        >\n          <Box height={\"100%\"}>{children}</Box>\n        </Slide>\n      );\n\n      return SlideTransition;\n    }\n    return (({ children }) => children) as React.FC<{ match: any }>;\n  }, [transition]);\n\n  return {\n    route: route,\n    params:\n      match && validateParams(route.path, match.params) ? match.params : {},\n    MatchedElement: (\n      <Switch>\n        {matchOnSubPath &&\n          routes.map(({ path, Component: RouteComponent }, i) => (\n            <Route\n              key={path + \"matchOnSubPath\"}\n              path={`/${path.split(\"/\").slice(1, 2)}/*`}\n            >\n              {({ match }) => (\n                <Transition match={match}>\n                  <RouteComponent />\n                </Transition>\n              )}\n            </Route>\n          ))}\n        {routes.map(({ path, Component: RouteComponent }, i) => (\n          <Route key={path + \"root\"} sensitive strict exact path={path}>\n            {({ match }) => (\n              <Transition match={match}>\n                <RouteComponent />\n              </Transition>\n            )}\n          </Route>\n        ))}\n        {Fallback && (\n          <Transition match={true}>\n            <Fallback />\n          </Transition>\n        )}\n        {!Fallback && (\n          <Transition match={true}>\n            <Route component={NotFound} />\n          </Transition>\n        )}\n      </Switch>\n    )\n  };\n};\n\nexport default useMatchedRoute;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}