{"ast":null,"code":"var _jsxFileName = \"/home/johannes/osapienscode/src/pages/Root/index.tsx\",\n  _s = $RefreshSig$();\nimport { Box, CircularProgress, Slide } from \"@mui/material\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useUserStore } from \"../../api/services/User\";\nimport AppHeader from \"../../components/AppHeader\";\nimport useMatchedRoute from \"../../hooks/useMatchedRoute\";\nimport { observer } from \"mobx-react\";\nimport { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport AccessDenied from \"../AccessDenied\";\nimport { routes as useRoutes } from \"../routes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst hideSplashScreen = () => {\n  const splashscreen = document.getElementById(\"app-splashscreen\");\n  if (splashscreen) {\n    splashscreen.className = \"\";\n    setTimeout(() => {\n      splashscreen.remove();\n    }, 300);\n  }\n};\nconst Root = () => {\n  _s();\n  const {\n    t\n  } = useTranslation(\"app\");\n  const userStore = useUserStore();\n  const {\n    user\n  } = userStore || {};\n  const theme = useTheme();\n  console.log(user);\n  const routes = [...useRoutes];\n  const [fallbackRoute] = routes;\n  const Fallback = fallbackRoute.Component;\n  const {\n    route = fallbackRoute,\n    MatchedElement\n  } = useMatchedRoute(routes, Fallback, {\n    matchOnSubPath: true\n  });\n  let pageTitle = t(\"routes.\".concat(route.path));\n  if (route.path.indexOf(\"data\") > -1 || route.path.indexOf(\"settings\") > -1) {\n    const [, groupName] = route.path.split(\"/\");\n    pageTitle = t(\"routes./\".concat(groupName));\n  }\n  const loadingApp = false;\n  const accessDenied = false;\n  useEffect(() => {\n    hideSplashScreen();\n  }, []);\n  useEffect(() => {\n    if (!user && userStore) {\n      userStore.getOwnUser();\n    }\n  }, [user, userStore]);\n  if (accessDenied) {\n    return /*#__PURE__*/_jsxDEV(AccessDenied, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"portal-container\",\n    style: {\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      width: \"100vw\",\n      height: \"100vh\"\n    },\n    children: [loadingApp && /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n      height: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"primary\",\n        size: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        background: \"#f5f5f5\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Slide, {\n        direction: \"down\",\n        in: !loadingApp,\n        mountOnEnter: true,\n        children: /*#__PURE__*/_jsxDEV(AppHeader, {\n          user: user !== null && user !== void 0 ? user : {},\n          pageTitle: pageTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"main\",\n        sx: {\n          position: \"relative\",\n          height: \"calc(100% - \".concat(theme.tokens.header.height, \")\"),\n          width: \"100%\",\n          marginTop: theme.tokens.header.height /* Necessary because of AppBar */\n        },\n        children: MatchedElement\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Root, \"KXcTEsJGNxvs3mPH+QEuEE74sGA=\", false, function () {\n  return [useTranslation, useUserStore, useTheme, useMatchedRoute];\n});\n_c = Root;\nexport default _c2 = observer(Root);\nvar _c, _c2;\n$RefreshReg$(_c, \"Root\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["Box","CircularProgress","Slide","useTheme","useUserStore","AppHeader","useMatchedRoute","observer","useEffect","useTranslation","AccessDenied","routes","useRoutes","jsxDEV","_jsxDEV","hideSplashScreen","splashscreen","document","getElementById","className","setTimeout","remove","Root","_s","t","userStore","user","theme","console","log","fallbackRoute","Fallback","Component","route","MatchedElement","matchOnSubPath","pageTitle","concat","path","indexOf","groupName","split","loadingApp","accessDenied","getOwnUser","fileName","_jsxFileName","lineNumber","columnNumber","id","style","position","top","left","width","height","children","display","alignItems","justifyContent","color","size","sx","background","direction","in","mountOnEnter","component","tokens","header","marginTop","_c","_c2","$RefreshReg$"],"sources":["/home/johannes/osapienscode/src/pages/Root/index.tsx"],"sourcesContent":["import { Box, CircularProgress, Slide } from \"@mui/material\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useUserStore } from \"../../api/services/User\";\nimport AppHeader from \"../../components/AppHeader\";\nimport useMatchedRoute from \"../../hooks/useMatchedRoute\";\nimport { observer } from \"mobx-react\";\nimport { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { TRoute } from \"../../types/global\";\nimport { resultOrError } from \"../../utils/global\";\nimport AccessDenied from \"../AccessDenied\";\nimport { routes as useRoutes } from \"../routes\";\n\nconst hideSplashScreen = () => {\n  const splashscreen = document.getElementById(\"app-splashscreen\");\n\n  if (splashscreen) {\n    splashscreen.className = \"\";\n    setTimeout(() => {\n      splashscreen.remove();\n    }, 300);\n  }\n};\n\nconst Root = () => {\n  const { t } = useTranslation(\"app\");\n  const userStore = useUserStore();\n  const { user } = userStore || {};\n  const theme = useTheme();\n  console.log(user);\n  const routes = [...useRoutes] as readonly TRoute[];\n  const [fallbackRoute] = routes;\n  const Fallback = fallbackRoute.Component;\n  const { route = fallbackRoute, MatchedElement } = useMatchedRoute(\n    routes,\n    Fallback,\n    { matchOnSubPath: true }\n  );\n\n  let pageTitle = t(`routes.${route.path}`);\n\n  if (route.path.indexOf(\"data\") > -1 || route.path.indexOf(\"settings\") > -1) {\n    const [, groupName] = route.path.split(\"/\");\n    pageTitle = t(`routes./${groupName}`);\n  }\n\n  const loadingApp = false;\n  const accessDenied = false;\n\n  useEffect(() => {\n    hideSplashScreen();\n  }, []);\n\n  useEffect(() => {\n    if (!user && userStore) {\n      userStore.getOwnUser();\n    }\n  }, [user, userStore]);\n\n  if (accessDenied) {\n    return <AccessDenied />;\n  }\n\n  return (\n    <div\n      id=\"portal-container\"\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100vw\",\n        height: \"100vh\"\n      }}\n    >\n      {loadingApp && (\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          width=\"100%\"\n          height=\"100%\"\n        >\n          <CircularProgress color=\"primary\" size={100} />\n        </Box>\n      )}\n      <Box\n        sx={{\n          display: \"flex\",\n          height: \"100%\",\n          width: \"100%\",\n          background: \"#f5f5f5\"\n        }}\n      >\n        <Slide direction=\"down\" in={!loadingApp} mountOnEnter>\n          <AppHeader user={user ?? {}} pageTitle={pageTitle} />\n        </Slide>\n        <Box\n          component=\"main\"\n          sx={{\n            position: \"relative\",\n            height: `calc(100% - ${theme.tokens.header.height})`,\n            width: \"100%\",\n            marginTop:\n              theme.tokens.header.height /* Necessary because of AppBar */\n          }}\n        >\n          {MatchedElement}\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default observer(Root);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}